<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <title>ESCOBAR ADMIN</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        body { background: #020617; color: white; font-family: sans-serif; padding: 20px; }
        .card { background: #1e293b; padding: 20px; border-radius: 12px; border: 1px solid #3b82f6; max-width: 500px; margin: 0 auto 20px; }
        input { width: 100%; padding: 10px; margin: 10px 0; background: #0f172a; color: white; border: 1px solid #334155; }
        button { width: 100%; padding: 10px; cursor: pointer; font-weight: bold; border: none; border-radius: 5px; }
        .user { display: flex; justify-content: space-between; background: #334155; padding: 10px; margin-top: 5px; border-radius: 5px; }
    </style>
</head>
<body>
    <div id="lock" class="card" style="text-align:center;">
        <h2>ADMIN Gƒ∞Rƒ∞≈û</h2>
        <input type="password" id="ap" placeholder="≈ûifr…ô">
        <button onclick="go()" style="background:red; color:white;">Gƒ∞R</button>
    </div>
    <div id="main" style="display:none;">
        <div class="card">
            <h2>U≈üaq ∆èlav…ô Et</h2>
            <input type="text" id="n" placeholder="Ad">
            <input type="text" id="p" placeholder="≈ûifr…ô">
            <button onclick="add()" style="background:#10b981; color:white;">BAZAYA SAL</button>
        </div>
        <div class="card">
            <h2>S√∂hb…ôti Sil</h2>
            <button onclick="delChat()" style="background:red; color:white;">B√úT√úN MESAJLARI Sƒ∞L</button>
        </div>
        <div class="card">
            <h2>U≈üaqlar v…ô Ban</h2>
            <div id="list"></div>
        </div>
    </div>
<script>
    var conf = { apiKey: "AIzaSyDzNOIEJfrKFGzrMzeT0Jaf6OCHBEq_LuA", databaseURL: "https://gizlichat-839ce-default-rtdb.europe-west1.firebasedatabase.app/", projectId: "gizlichat-839ce" };
    firebase.initializeApp(conf); var db = firebase.database();
    function go() { if(document.getElementById("ap").value === "Escobar 1988") { document.getElementById("lock").style.display="none"; document.getElementById("main").style.display="block"; load(); } else alert("S…ôhvdir!"); }
    function add() { var name=document.getElementById("n").value, pass=document.getElementById("p").value; if(name&&pass) db.ref("users/"+pass).set({name:name, banned:false, online:false}); }
    function delChat() { if(confirm("B√ºt√ºn mesajlar silinsin?")) db.ref("messages").remove(); }
    function load() {
        db.ref("users").on("value", function(snap) {
            var h = ""; snap.forEach(u => {
                var d = u.val(); var bCol = d.banned ? "red" : "orange";
                h += <div class="user">
                    <span>${d.online?'üü¢':'‚ö™'} ${d.name} (${u.key})</span>
                    <div>
                        <button onclick="db.ref('users/${u.key}').update({banned:${!d.banned}})" style="width:70px; background:${bCol}">${d.banned?'BANSIZ':'BANLA'}</button>
                        <button onclick="db.ref('users/${u.key}').remove()" style="width:40px; background:gray">Sƒ∞L</button>
                    </div>
                </div>;
            });
            document.getElementById("list").innerHTML = h;
        });
    }
</script>
</body>
</html>
