<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XoÅŸ GÉ™ldiniz | MÉ™xfi Chat</title>
    <style>
        :root { --main-blue: #1e3a8a; --accent: #3b82f6; --dark: #020617; }
        body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; font-family: 'Segoe UI', sans-serif; background: var(--dark); }
        
        /* Arxa fonda hÉ™rÉ™kÉ™t edÉ™n fiqurlar Ã¼Ã§Ã¼n kÉ™tan */
        #canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; }

        /* GiriÅŸ EkranÄ± */
        #login-screen { position: fixed; inset: 0; display: flex; justify-content: center; align-items: center; z-index: 100; background: rgba(2, 6, 23, 0.8); backdrop-filter: blur(10px); }
        .login-card { background: rgba(30, 41, 59, 0.9); padding: 40px; border-radius: 20px; text-align: center; border: 1px solid var(--accent); box-shadow: 0 0 30px rgba(59, 130, 246, 0.3); width: 350px; }
        h1 { color: white; margin-bottom: 20px; font-size: 24px; }
        input { width: 100%; padding: 12px; margin: 10px 0; border-radius: 8px; border: 1px solid #334155; background: #0f172a; color: white; outline: none; }
        button { width: 100%; padding: 12px; background: var(--accent); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; transition: 0.3s; }
        button:hover { transform: scale(1.05); background: #2563eb; }

        /* Chat Ä°nterfeysi */
        #main-chat { display: none; height: 100vh; flex-direction: column; color: white; }
        header { background: rgba(30, 41, 59, 0.8); padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #334155; }
        #chat-window { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 15px; }
        .msg { max-width: 70%; padding: 12px; border-radius: 15px; background: rgba(51, 65, 85, 0.8); position: relative; }
        .msg.me { align-self: flex-end; background: var(--accent); }
        .avatar { width: 35px; height: 35px; border-radius: 50%; background: #64748b; display: inline-block; margin-right: 10px; vertical-align: middle; }
        
        .input-bar { padding: 20px; background: rgba(30, 41, 59, 0.9); display: flex; gap: 10px; border-top: 1px solid #334155; }
        .media-btns { display: flex; gap: 5px; align-items: center; }
    </style>
</head>
<body>

    <canvas id="canvas"></canvas>

    <div id="login-screen">
        <div class="login-card">
            <h1>XoÅŸ GÉ™ldiniz</h1>
            <input type="password" id="entry-pass" placeholder="MÉ™xfi ÅŸifrÉ™ni yazÄ±n...">
            <button onclick="accessChat()">GÄ°RÄ°Åž ET</button>
        </div>
    </div>

    <div id="main-chat">
        <header>
            <div style="display: flex; align-items: center;">
                <div class="avatar" id="my-avatar"></div>
                <span id="my-name">Ä°stifadÉ™Ã§i</span>
            </div>
            <b>Ãœmumi Chat</b>
            <button onclick="location.reload()" style="width: auto; padding: 5px 10px; font-size: 12px;">Ã‡Ä±xÄ±ÅŸ</button>
        </header>

        <div id="chat-window">
            </div>

        <div class="input-bar">
            <div class="media-btns">
                <button title="ÅžÉ™kil/Video" style="width: 40px;">ðŸ“·</button>
                <button title="SÉ™s" style="width: 40px;">ðŸŽ¤</button>
            </div>
            <input type="text" id="m-text" placeholder="MesajÄ±nÄ±zÄ± bura yazÄ±n..." style="margin:0;">
            <button onclick="send()" style="width: 60px;">></button>
        </div>
    </div>

    <script>
        // --- 1. Arxa Fon (HÉ™rÉ™kÉ™tli Fiqurlar) ---
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 3 + 1;
                this.speedX = Math.random() * 1 - 0.5;
                this.speedY = Math.random() * 1 - 0.5;
            }
            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                if (this.size > 0.2) this.size -= 0.01;
            }
            draw() {
                ctx.fillStyle = 'rgba(59, 130, 246, 0.5)';
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        function handleParticles() {
            for (let i = 0; i < particles.length; i++) {
                particles[i].update();
                particles[i].draw();
                if (particles[i].size <= 0.3) {
                    particles.splice(i, 1);
                    i--;
                    particles.push(new Particle());
                }
            }
        }

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            handleParticles();
            requestAnimationFrame(animate);
        }
        for (let i = 0; i < 100; i++) particles.push(new Particle());
        animate();

        // --- 2. GiriÅŸ vÉ™ Chat MÉ™ntiqi ---
        function accessChat() {
            const pass = document.getElementById('entry-pass').value;
            // Admin panelindÉ™n yaratdÄ±ÄŸÄ±n kodlarÄ± burda yoxlayacaÄŸÄ±q
            let db = JSON.parse(localStorage.getItem('chat_db')) || {"777": "Osman"};
            
            if (db[pass]) {
                document.getElementById('my-name').innerText = db[pass];
                document.getElementById('login-screen').style.display = 'none';
                document.getElementById('main-chat').style.display = 'flex';
            } else {
                alert("ÅžifrÉ™ yanlÄ±ÅŸdÄ±r!");
            }
        }

        function send() {
            const msg = document.getElementById('m-text').value;
            if(!msg) return;
            const win = document.getElementById('chat-window');
            win.innerHTML += <div class="msg me"><b>MÉ™n:</b><br>${msg}</div>;
            document.getElementById('m-text').value = "";
            win.scrollTop = win.scrollHeight;
        }
    </script>
</body>
</html>
